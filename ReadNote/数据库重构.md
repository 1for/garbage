评论
===========

- 把数据库重构的各方各面一一列举，比起代码重构，书中讲述最多的是如何来保证数据的安全。对于线上系统的重构尤其如此，一个完好的数据安全机制是本书最值得称赞的地方。 
- 作者啰嗦点，译者外行点。 数据和数据库重构，基本上都是组合拳，牵涉到所有角色。 书中是分节动作，总结起来就是做事6要素： 首先What，Why，How，然后Where，When，最后安排Who。 

读书笔记
===========

## 2 数据库重构
> 一旦你冻结了设计，它就开始变得过时。

### 2.2 数据库重构
	p.10 重构时不能假定所有的外部程序都会同时部署，因此必须支持一个转换期，这一时期需要同时支持老的schema和新的schema。

### 2.3 数据库重构的分类
	- 结构重构
	- 数据质量重构
	- 参照完整性重构
	- 架构重构
	- 方法重构
	- 转换

### 2.4 数据库的味道
	- 多用途的列
	- 多用途的表
	- 重复的数据
	- 列太多的表
	- 行太多的表
	- “智能”列
	- 害怕变化

> 需要编写文档意味着需要重构。
> 也许一次简单的改名就可以避免几段说明文档。设计越清晰，就越少需要文档。

## 数据库重构策略
- 小的变更更容易进行
- 唯一地标识每一次重构
- 通过许多小变更实现一次大变更
- 建立数据库配置表
- 触发器优于视图或批量同步
- 选择一个足够长的转换器
- 简化数据库变更控制委员会策略
- 简化与其他团队的协商
- 封装对数据库的访问
- 能够容易地建立数据库环境
- 不要复制SQL
- 将数据库资产置于变更控制之下
- 注意机构中的政治斗争






